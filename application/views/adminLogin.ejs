<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <title>vric</title>
  <!-- plugins:css -->
  <link rel="icon" type="image/x-icon" href="/admin/theme/images/favicon.png">
  <link rel="stylesheet" href="theme/vendors/feather/feather.css">
  <link rel="stylesheet" href="theme/vendors/ti-icons/css/themify-icons.css">
  <link rel="stylesheet" href="theme/vendors/css/vendor.bundle.base.css">
  <link rel="stylesheet" type="text/css" href="/admin/theme/css/min/sweetalert.min.css">
  <link rel="stylesheet" type="text/css" href="/admin/theme/css/admin-style.css">
  <meta name="google-signin-client_id" content="420571390564-mpiviu4c6vcg5httabokfn6btj2pkl7i.apps.googleusercontent.com">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<!-- Latest compiled and minified CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Latest compiled JavaScript -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://apis.google.com/js/platform.js" async defer></script>
<script src="script.js"></script>
  <!-- endinject -->
  <!-- Plugin css for this page -->
  <!-- End plugin css for this page -->
  <!-- inject:css -->
  <link rel="stylesheet" href="/admin/theme/css/vertical-layout-light/style.css">
  <!-- endinject -->
  <!-- <link rel="shortcut icon" href="theme/images/favicon.png" /> -->
  <style>
    .g-signIn2{
      margin-left: 500px;
      margin-top: 200px;
    }
    .data{
      display: none;
    }
  </style>
</head>

<body>
  <script src="https://apis.google.com/js/platform.js" async defer></script>
  <div class="container-scroller">
    <div class="container-fluid page-body-wrapper full-page-wrapper">
      <div class="content-wrapper d-flex align-items-center auth px-0">
        <div class="row w-100 mx-0">
          <div class="col-lg-4 mx-auto">
            <div class="auth-form-light text-left py-5 px-4 px-sm-5 text-center">
              <div class="brand-logo">
                <!-- <img src="theme/images/logo-kawacha.png" alt="logo">
                 -->
                <img src="theme/images/logo-kawacha.png  ">

              </div>
              <h4>Hello! let's get started</h4>
              <h6 class="font-weight-light">Sign in to continue.</h6>
              <form class="pt-3 pb-4" id="adminLogin" method="post" role="form">
              <form class="pt-3" id="adminLoginfb" method="post" role="form">

                <div class="form-group">
                  
                  <input type="email" class="form-control form-control-lg" id="email" name="email" placeholder="Username">
                </div>
                <div class="form-group">
              <input type="" class="form-control form-control-lg" id="password" name="password" placeholder="Password">
                </div>
                <div class="mt-3">
                  <button class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn" >SIGN IN</button>
                </div>
             
                <div class="my-2 d-flex justify-content-between align-items-center">
                  <div class="form-check">
                    <!-- <label class="form-check-label text-muted">
                      <input type="checkbox" class="form-check-input">
                      Keep me signed in
                    </label> -->
                  </div>
                  <a href="#" class="auth-link text-black">Forgot password?</a>
                </div>
                <!-- <h2 class="alert alert-primary">sign in google

                </h2>
                <div class="g-signin2" data-onsuccess="onSignIn"></div>
                <div class="data">
                  <p>Name</p>
                  <p class="alert alert-success"></p>
                  <p>Profile detail</p>
                  <p>Email</p>
                  <p id="emial"></p>
                  <button type="button" class="btn btn-danger"></button>
                  <img src="rounded-cirle" width="100" height="100" alt="">
                </div> -->
                <div class="col-md-12 areaSocial">
                  <ul class="col-md-12 areaSocialul">
                    <li class="item">
                      <a class="itemfacebook" href="#" id="facebookbtn"> Facebook </a>
                    </li>
                    <li class="item">
                      <a class="itemfacebook" href="#" id="facebookbtn"> Google++ </a>
                    </li>

                    </ul>
                    <!-- <div class="g-signin2" data-onsuccess="onSignIn"></div>
                    <div class="data">
                      <p>Profile Details</p>
                      <img id="pic" class="img-circle" width="100px" height="100px"/>
                      <p> Email Address</p>
                      <p id="email" class="alert alert-danger"></p>
                      <button onclick="signOut()" class="btn btn-danger">signOut</button>
                    </div>
                </div> -->
                 <!-- -->
                <!-- <div class="text-center mt-4 font-weight-light">
                  Don't have an account? <a href="register.html" class="text-primary">Create</a>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
      <! content-wrapper ends -->
    </div>
    <!-- page-body-wrapper ends -->
  </div>

    <!-- Display login status -->
<div id="status"></div>

<!-- Facebook login or logout button -->

  <!-- <div class="mt-3">
    <a href="#" class="waves-effect waves-light btn social facebook">
  <button class="btn btn-block btn-primary btn-lg font-weight-medium auth-form-btn" onclick="fbLogin()">SIGN IN WITH FACEBOOK</button>

</div>
</div> -->


<!-- Display user's profile info -->
<div class="ac-data" id="userData"></div>
    <script src="theme/vendors/js/vendor.bundle.base.js"></script>
    <script src="theme/js/off-canvas.js"></script>
    <script src="theme/js/hoverable-collapse.js"></script>
    <script src="theme/js/template.js"></script>
    <script src="theme/js/settings.js"></script>
    <script src="theme/js/todolist.js"></script>
    <script src="../admin/theme/js/jquery.min.js"></script>
    <script src="../admin/theme/js/sweetalert-min.js" type="text/javascript"></script> 
    <script src="../admin/theme/js/main.js"></script>
    <script src="../admin/theme/js/form-validation.min.js"></script> 

</body>
</html>
<script >

    $(function() {
        $("#adminLogin").validate({
            errorPlacement: function (error, element) {
                $(element)
                .closest("form")
                .find("label[for='" + element.attr("id") + "']")
                .append(error);
            },
            errorElement: "span",
            rules: {
            
                email: {
                    required : true,
                    email    : true,
                    maxlength: 70,
                },
                
                
                password: {
                    required : true,
                    minlength: 8,
                    maxlength: 100,
                },
            
            
            
            },
          
            submitHandler: function () {
                let formData = $("#adminLogin").serialize();
        
                $.ajax({
                    url        : '/admin/login',
                    data       : formData,
                    cache      : false,
                    processData: false,
                    method     : 'POST',
                    type       : 'POST',
                    success: function (_res) {
                        //let responseText = JSON.parse(_res);

                        localStorage.setItem("token",_res.payload.token);
                        localStorage.setItem("adminName",_res.payload.au_name);
                        $('#adminLogin').trigger("reset");
                        window.location.href = "dashboard";
                    },
                    error: function (e) {
                    
                    let responseText = JSON.parse(e.responseText);
                    let errorConfig = {
                        title   : 'Error',
                        message : responseText.message,
                        type    : 'error'
                    }
                      KWACHA_MAIN.sweetAlert(errorConfig);
                    }
        
                });
        
            },
    
    
        });
    
    });
</script>
 <!-- /////////////////////////////////////////////////////////////////////////////////////////////////////////////// -->
    
  <div id="fb-root"></div>
  <!-- <script src="//connect.facebook.net/en_US/all.js"></script> 
  <script>
    window.fbAsyncInit = function() { -->
         <!-- FB JavaScript SDK configuration and setup
        FB.init({
            appId  : '508876207249862', 
            status : true, // check login status
            cookie : true, // enable cookies to allow the server to access the session
            xfbml  : true,  // parse XFBML
            oauth : true,
            HTTP   : true,
            autoLogAppEvents : true,

        }); -->
        <!-- // 5180382248753972 -->
        
        <!-- // Check whether the user already logged in
        FB.getLoginStatus(function(response) {
            if (response.status === 'connected') {
                //display user data
                getFbUserData();
            }
        });
    }; -->

    <!-- // Load the JavaScript SDK asynchronously
    // (function(d, s, id) {
    //     var js, fjs = d.getElementsByTagName(s)[0];
    //     if (d.getElementById(id)) return;
    //     js = d.createElement(s); js.id = id;
    //     js.src = "//connect.facebook.net/en_US/sdk.js";
    //     fjs.parentNode.insertBefore(js, fjs);
    // }(document, 'script', 'facebook-jssdk'));
    
    // Facebook login with JavaScript SDK
    // function fbLogin() {
    //     FB.login(function (response) {
    //       console.log(response,'sjhj')
    //         if (response.authResponse) {
    //           console.log(response.authResponse,'sjhui')
    //             // Get and display the user profile data
    //             getFbUserData();
    //         } else {
    //             document.getFbUserData('status').innerHTML = 'User cancelled login or did not fully authorize.';
    //         }
    //     }, {scope: 'email'});
    // }
    
    // Fetch the user profile data from facebook
    // function getFbUserData(){
    //     FB.api('/adminfb', {locale: 'en_US', fields: 'first_name,last_name,email,link,gender,locale,picture'},
    //     function (response) {
    //         document.getElementById('fbLink').setAttribute("onclick","fbLogout()");
    //         document.getElementById('fbLink').innerHTML = 'Logout from Facebook';
    //         document.getElementById('status').innerHTML = '<p>Thanks for logging in, ' + response.first_name + '!</p>';
    //         document.getElementById('userData').innerHTML = '<h2>Facebook Profile Details</h2><p><img src="'+response.picture.data.url+'"/></p><p><b>zeroit soluation:</b> '+response.id+'</p><p><b>Name:</b> '+response.first_name+' '+response.last_name+'</p><p><b>anoop.zeroit@gmail.com:</b> '+response.email+'</p><p><b>:</b> '+response.gender+'</p><p><b>zeroit soluation:</b> <a target="_blank" href="'+response.link+'">click to view profile</a></p>';
    //     });
    // }

    // Logout from facebook
    // function fbLogout() {
    //     FB.logout(function() {
    //         document.getElementById('fbLink').setAttribute("onclick","fbLogin()");
    //         document.getElementById('fbLink').innerHTML = '<img src="images/fb-login-btn.png"/>';
    //         document.getElementById('userData').innerHTML = '';
    //         document.getElementById('status').innerHTML = '<p>You have successfully logout from Facebook.</p>';
    //     });
    // }
    </script> -->
 
    <!-- <script>
function onSignIn(googleUser) {
  console.log(googleUser,'sjghjguhj')
  var profile = googleUser.getBasicProfile();
  console.log(profile,"uuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuuu");
 $("#name").text(profile.getName());
 $("#email").text(profile.getEmail());
 $("#image").attr('src',profile.getImageUrl());
 $(".data").css('display','block');
 $(".g-signin2").css('display','none')
}

function signOut() {
    var auth2 = gapi.auth2.getAuthInstance();
    auth2.signOut().then(function () {
      alert("you have been sign out sucessfully");
      $(".signin2").css("display","block");
      $(".data").css('display','no');
    });
  }
    </script>
 -->

